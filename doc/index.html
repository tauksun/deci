<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DECI – Distributed Eventually Consistent In-Memory Cache</title>
  <meta name="description" content="DECI: Distributed Eventually Consistent In-Memory Cache. Fast, local cache with global eventual consistency for microservices.">
  <style>
    body {
      font-family: 'Segoe UI', 'Roboto', Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #fafbfc;
      color: #222;
    }
    header {
      background: #2574A9;
      color: #fff;
      padding: 2rem 1rem 1rem 1rem;
      text-align: center;
    }
    header h1 {
      margin: 0 0 .5rem 0;
      font-size: 2.5rem;
      letter-spacing: 2px;
    }
    header p {
      margin: .5rem 0 0 0;
      font-size: 1.2rem;
    }
    main {
      max-width: 920px;
      margin: 2rem auto;
      padding: 1rem;
      background: #fff;
      border-radius: 18px;
      box-shadow: 0 2px 10px 0 rgba(80,100,120,0.06);
    }
    section {
      margin-bottom: 2.5rem;
    }
    h2 {
      color: #207492;
      font-size: 1.5rem;
      margin-top: 1.5rem;
      margin-bottom: .75rem;
    }
    img, svg {
      max-width: 100%;
      height: auto;
      border-radius: 10px;
      margin: 1rem 0;
      box-shadow: 0 1px 6px 0 rgba(32,50,100,0.09);
    }
    .diagram-caption {
      text-align: center;
      font-size: .97rem;
      color: #555;
      margin-top: -10px;
      margin-bottom: 16px;
    }
    ul, ol {
      margin-left: 1.3rem;
    }
    .github-link {
      text-align: center;
      margin: 2.5rem auto 2.2rem auto;
    }
    .github-link a {
      display: inline-block;
      background: #24292e;
      color: #fff;
      padding: .65rem 1.4rem;
      border-radius: 24px;
      font-size: 1rem;
      text-decoration: none;
      box-shadow: 0 2px 12px 0 rgba(32,50,100,0.08);
      transition: background .2s;
    }
    .github-link a:hover {
      background: #264b7d;
      color: #fff;
    }
    .docker-section {
      background: #eff7fb;
      border-radius: 14px;
      padding: 1.2rem 1rem 1.7rem 1.2rem;
      box-shadow: 0 1px 5px 0 rgba(70,100,160,0.04);
      margin-bottom: 2rem;
    }
    .docker-section h3 {
      color: #207492;
      font-size: 1.23rem;
      margin-top: 1.3rem;
      margin-bottom: .6rem;
    }
    .docker-section a {
      color: #206080;
      text-decoration: underline;
      transition: color .2s;
    }
    .docker-section a:hover {
      color: #19a6e6;
    }
    .run-container {
      position: relative;
      margin-bottom: 1.3em;
    }
    .run-cmd {
      background: #222;
      color: #fff;
      font-size: 1rem;
      border-radius: 6px;
      padding: .8rem 1rem;
      font-family: 'Fira Mono', 'Consolas', 'Menlo', 'monospace';
      white-space: pre-line;
      word-break: break-all;
      margin: 0;
      overflow-x: auto;
    }
    .copy-btn {
      position: absolute;
      top: 8px;
      right: 10px;
      background: #207492;
      color: #fff;
      border: none;
      outline: none;
      border-radius: 20px;
      padding: 6px 14px;
      font-size: .95rem;
      cursor: pointer;
      box-shadow: 0 1px 5px 0 rgba(32,60,100,0.07);
      transition: background .18s;
    }
    .copy-btn:hover {
      background: #264b7d;
    }
    @media (max-width: 600px) {
      main { padding: .3rem; }
      header h1 { font-size: 1.5rem; }
      .github-link a { font-size: .99rem; }
    }
    .footer {
      text-align: center;
      color: #888;
      padding: 1.5rem 0 .7rem 0;
      font-size: .97rem;
    }
  </style>
  <script>
    function copyToClipboard(id, btn) {
      var text = document.getElementById(id).innerText;
      navigator.clipboard.writeText(text);
      btn.innerText = "Copied!";
      setTimeout(() => { btn.innerText = "Copy"; }, 1400);
    }
  </script>
</head>
<body>
<header>
  <h1>DECI – Distributed Eventually Consistent In-Memory Cache</h1>
  <p>Ultra-fast, local cache with eventual consistency for microservices.</p>
</header>
<main>
  <section>
    <h2>Why DECI?</h2>
    <p>
      Traditional microservice architectures often place a cache service on a separate server (like Elasticache), requiring each microservice to make network calls for cache operations. These network calls increase latency and undermine the speed benefits of in-memory caching.
    </p>
    <div>
      <img src="current-approach.svg" alt="Traditional approach: remote cache accessed via network">
      <div class="diagram-caption">Traditional approach: Microservices access remote cache over the network, introducing latency.</div>
    </div>
    <p>
      <b>DECI</b> (Distributed Eventually Consistent In-Memory Cache) flips this paradigm: it keeps the cache directly alongside the application process on the same machine, truly leveraging the speed and efficiency of local memory.
    </p>
  </section>

  <section>
    <h2>How DECI Works</h2>
    <p>
      For each microservice instance, a dedicated <strong>LCP</strong> (<b>L</b>ocal <b>C</b>ache <b>P</b>rocess) runs on the same server. The application communicates with the LCP via a fast UNIX socket, keeping cache access local and ultra-fast.
    </p>
    <div>
      <img src="App-LCP.svg" alt="Local Cache Process and Application Process">
      <div class="diagram-caption">Each server runs an LCP, and the application accesses the cache locally via a UNIX socket.</div>
    </div>
  </section>
  
  <section>
    <h2>Overview Diagram</h2>
    <div>
      <img src="LCP-GCP-basic.svg" alt="LCP and GCP interaction diagram">
      <div class="diagram-caption">LCP provides fast local caching. GCP maintains a global cache accessed by LCPs via network.</div>
    </div>
  </section>
  
  <section>
    <h2>Distributed Synchronization and Global Cache</h2>
    <p>
      DECI introduces the <strong>GCP</strong> (<b>G</b>lobal <b>C</b>ache <b>P</b>rocess), which runs on another server. GCP maintains a global cache accessible by all LCPs. When the application modifies its local cache (using the LCP), changes are sent to the GCP, which then synchronizes these updates across peer LCPs of the same microservice, ensuring eventual consistency.
    </p>
    <div>
      <img src="LCP-GCP.svg" alt="LCP and GCP connections">
      <div class="diagram-caption">LCPs use a pool of TCP connections to communicate with GCP for global cache access and synchronization.</div>
    </div>
  </section>
  <section>
    <h2>Synchronization in Microservices</h2>
    <p>
      Each micro-service creates its own group in GCP. All LCP instances of that micro-service join the group. Any create, update, or delete in the LCP’s local cache is propagated via GCP to all the other LCPs in the group, ensuring eventual consistency across all instances.
    </p>
    <div>
      <img src="Sync.svg" alt="Synchronization architecture in DECI">
      <div class="diagram-caption">All LCPs of a service synchronize changes through GCP, keeping caches eventually consistent.</div>
    </div>
    <ul>
      <li><b>Low Latency:</b> Cache operations happen in-memory, on the local server.</li>
      <li><b>Scalable:</b> Each application instance and LCP is independent, scaling horizontally.</li>
      <li><b>Eventual Consistency:</b> GCP ensures all peers see updated data after local changes.</li>
      <li><b>Minimal Network Overhead:</b> Only synchronization and global cache queries go over the network.</li>
      <li><b>Persistence and Recovery:</b> GCP maintains a WAL (Write-Ahead Log) file for each group, which is streamed to any newly joined LCP to bring it up-to-date with the current cache state.</li>
    </ul>
  </section>
  <div class="github-link">
    <a href="https://github.com/tauksun/deci" target="_blank" rel="noopener">View Source on GitHub</a>
  </div>
  <section class="docker-section">
    <h2>Running DECI</h2>
    <h3>Global Cache Process (GCP)</h3>
    <p>
      Docker Image: <a href="https://hub.docker.com/r/tauksun/deci-gcp" target="_blank">tauksun/deci-gcp</a>
    </p>
    <div class="run-container">
      <pre class="run-cmd" id="gcp-cmd">sudo docker run --name gcp -v /tmp/gcp:/tmp/gcp -v /tmp/gcp/gcp.conf:/app/gcp.conf -e TARGET=gcp -p 7480:7480 tauksun/deci-gcp</pre>
      <button class="copy-btn" onclick="copyToClipboard('gcp-cmd', this)">Copy</button>
    </div>
    <h3>Local Cache Process (LCP)</h3>
    <p>
      Docker Image: <a href="https://hub.docker.com/r/tauksun/deci-lcp" target="_blank">tauksun/deci-lcp</a>
    </p>
    <div class="run-container">
      <pre class="run-cmd" id="lcp-cmd">sudo docker run -u $(id -u):$(id -g) -e USER_ID=$(id -u) -e GROUP_ID=$(id -g) --name lcp -v /tmp/lcp:/tmp/lcp -v /tmp/lcp/lcp.conf:/app/lcp.conf -e TARGET=lcp --network=host tauksun/deci-lcp</pre>
      <button class="copy-btn" onclick="copyToClipboard('lcp-cmd', this)">Copy</button>
    </div>
    <p>
      Adjust volume mounts and environment variables as per your environment and cache configuration.
    </p>
  </section>
  <section>
    <h2>Upcoming Release</h2>
    <ul>
      <li>Documentation</li>
      <li>LCP shutdown handling</li>
      <li>Stateful incremental parser</li>
      <li>TTL implementation</li>
      <li>SSL</li>
    </ul>
  </section>
</main>
<div class="footer">
  &copy; 2025 DECI Project. Simple. Fast. Consistent. — Powered by Open Source.
</div>
</body>
</html>
